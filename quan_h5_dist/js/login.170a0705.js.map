{"version":3,"sources":["webpack:///./src/components/base/deal/deal.vue","webpack:///./src/components/base/deal/deal.vue?1359","webpack:///./src/views/login/login.vue?051c","webpack:///./src/components/base/deal/deal.vue?cf4b","webpack:///./src/views/login/login.vue","webpack:///./src/views/login/login.vue?c889"],"names":["class","checkbox","icon-size","checked-color","show","privacyShow","z-index","lock-scroll","closeDeal","name","privacyData","title","content","closePrivacy","dealData","props","checked","type","Boolean","default","setup","emit","value","newVal","data","created","this","getUserAgreement","getUserPrivacy","methods","$axios","fetchGet","then","res","code","__exports__","render","style","indexHeader","to","onSubmit","username","placeholder","rules","password","round","block","native-type","clickTrue","components","Header","Deal","userAgreement","computed","watch","mounted","unmounted","validatorPhone","val","test","fetchPost","saveUserInfo","$toast","message","setTimeout","$router","push","path","$dialog","alert","confirmButtonText","confirmButtonColor"],"mappings":"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","file":"js/login.170a0705.js","sourcesContent":["<template>\n  <div class=\"deal-box\">\n    <van-checkbox\n      v-model=\"checkbox\"\n      icon-size=\"20px\"\n      class=\"checkbox\"\n      checked-color=\"#338aff\"\n    ></van-checkbox>\n    我已阅读并同意<span @click=\"show = true\">用户协议</span>与<span\n      @click=\"privacyShow = true\"\n      >隐私政策</span\n    >\n  </div>\n  <van-overlay\n    :show=\"show\"\n    @click=\"show = false\"\n    z-index=\"20\"\n    :lock-scroll=\"false\"\n  >\n    <!-- 用户协议 -->\n    <div class=\"wrapper\" @click.stop>\n      <div class=\"close-btn\" @click=\"closeDeal\">\n        <van-icon name=\"cross\" />\n      </div>\n      <h3>{{ privacyData.title }}</h3>\n      <p class=\"text\" v-html=\"privacyData.content\"></p>\n    </div>\n  </van-overlay>\n  <van-overlay\n    :show=\"privacyShow\"\n    @click=\"privacyShow = false\"\n    z-index=\"20\"\n    :lock-scroll=\"false\"\n  >\n    <!-- 隐私政策 -->\n    <div class=\"wrapper\" @click.stop>\n      <div class=\"close-btn\" @click=\"closePrivacy\">\n        <van-icon name=\"cross\" />\n      </div>\n      <h3>{{ dealData.title }}</h3>\n      <p class=\"text\" v-html=\"dealData.content\"></p>\n    </div>\n  </van-overlay>\n</template>\n\n<script>\nimport { watch, ref } from \"vue\";\n// import { useMeta } from \"vue-meta\";\n\nexport default {\n  props: {\n    checked: {\n      type: Boolean,\n      default: false\n    }\n    // content: {\n    //   type: Object,\n    //   default: function() {\n    //     return {};\n    //   }\n    // },\n    // PrivacyContent: {\n    //   type: Object,\n    //   default: function() {\n    //     return {};\n    //   }\n    // }\n  },\n\n  setup(props, { emit }) {\n    const checkbox = ref(false);\n    const show = ref(false);\n    const privacyShow = ref(false);\n    watch(checkbox, newVal => {\n      emit(\"update:checked\", newVal);\n    });\n\n    function closeDeal() {\n      show.value = false;\n    }\n    function closePrivacy() {\n      privacyShow.value = false;\n    }\n    return { checkbox, show, privacyShow, closeDeal, closePrivacy };\n  },\n  data() {\n    return {\n      dealData: {},\n      privacyData: {}\n    };\n  },\n  created() {\n    this.getUserAgreement();\n    this.getUserPrivacy();\n  },\n  methods: {\n    getUserAgreement() {\n      this.$axios.fetchGet(\"/Mobile/User/user_agreement\").then(res => {\n        if (res.data.code === 0) {\n          this.dealData = res.data.data;\n        }\n      });\n    },\n    getUserPrivacy() {\n      this.$axios.fetchGet(\"/Mobile/User/service_agreement\").then(res => {\n        if (res.data.code === 0) {\n          this.privacyData = res.data.data;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n.deal-box\n  position relative\n  padding-left 30px\n  font-size 13px\n  color #999999\n  .checkbox\n    position absolute\n    left 0\n    top 0\n  & > span\n    color #333333\n.wrapper\n  width 100%\n  height 100%\n  margin 0 auto\n  overflow auto\n  background #fff\n  padding 12px\n  position relative\n  font-family: Microsoft YaHei;\n  .close-btn\n    color #9D9D9D\n    font-size 28px\n    position absolute\n    left 19px\n    top 22px\n  h3\n    text-align center\n    font-size 19px\n    line-height 58px\n  .text\n    font-size 14px\n</style>\n","import { render } from \"./deal.vue?vue&type=template&id=75a605c7\"\nimport script from \"./deal.vue?vue&type=script&lang=js\"\nexport * from \"./deal.vue?vue&type=script&lang=js\"\n\nimport \"./deal.vue?vue&type=style&index=0&id=75a605c7&lang=stylus\"\n\nimport exportComponent from \"/Users/wuhelong/Documents/project_two/全市一体化/quan_h5/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&id=4a32bb1a&lang=stylus&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./deal.vue?vue&type=style&index=0&id=75a605c7&lang=stylus\"","<template>\n  <div class=\"login-container\">\n    <Header :indexHeader=\"false\"></Header>\n\n    <div class=\"title-bar\">\n      账号密码登录<router-link to=\"/sign\" class=\"sign\">注册</router-link>\n    </div>\n    <van-form @submit=\"onSubmit\" class=\"from\">\n      <van-field\n        v-model=\"username\"\n        type=\"text\"\n        name=\"phone\"\n        placeholder=\"请输入手机号\"\n        :rules=\"[\n          { validator: validatorPhone, message: '手机格式不正确' },\n          { required: true }\n        ]\"\n      />\n      <van-field\n        v-model=\"password\"\n        type=\"password\"\n        name=\"pwd\"\n        placeholder=\"请输入密码\"\n        :rules=\"[{ required: true }]\"\n      />\n      <router-link class=\"forget\" to=\"/find_password\">忘记密码？</router-link>\n      <Deal v-model:checked=\"checked\"></Deal>\n      <div style=\"margin: 16px;\">\n        <van-button\n          round\n          block\n          type=\"info\"\n          native-type=\"submit\"\n          class=\"sub\"\n          :class=\"{ success: username && password && clickTrue && checked }\"\n        >\n          登录\n        </van-button>\n      </div>\n    </van-form>\n    <router-link class=\"message-login\" to=\"m_login\">短信快捷登录></router-link>\n  </div>\n</template>\n<script>\nimport Header from \"@/components/header/header\";\nimport Deal from \"@/components/base/deal/deal.vue\";\nimport { useMeta } from \"vue-meta\";\nimport { mapMutations, mapState, mapActions } from \"vuex\";\nexport default {\n  setup() {\n    useMeta({ title: \"登录\" });\n  },\n  name: \"Login\",\n  components: { Header, Deal },\n  props: {},\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      checked: false,\n      clickTrue: false,\n      userAgreement: {}\n    };\n  },\n  created() {},\n  computed: {\n    ...mapState([\"uId\"])\n  },\n  watch: {},\n  mounted() {},\n  unmounted() {},\n  methods: {\n    ...mapMutations([\"setUid\", \"setLogined\"]),\n    ...mapActions([\"saveUserInfo\"]),\n    validatorPhone(val) {\n      // 验证手机号码\n      if (/^1(3|4|5|6|7|8|9)\\d{9}$/.test(val)) {\n        this.clickTrue = true;\n      } else {\n        this.clickTrue = false;\n      }\n      return /^1(3|4|5|6|7|8|9)\\d{9}$/.test(val);\n    },\n    onSubmit() {\n      if (!this.checked) {\n        this.$toast(\"必须先同意用户协议和隐私政策\");\n        return;\n      }\n      this.$axios\n        .fetchPost(\"Mobile/Member/login\", {\n          username: this.username,\n          password: this.password\n        })\n        .then(res => {\n          const data = res.data;\n          if (data.code == 0) {\n            this.saveUserInfo(data.data);\n            this.$toast(data.message);\n            setTimeout(() => {\n              this.$router.push({\n                path: \"/index\"\n              });\n            }, 500);\n          } else {\n            this.$dialog\n              .alert({\n                title: \"登录失败\",\n                message: data.message,\n                confirmButtonText: \"知道了\",\n                confirmButtonColor: \"#338aff\"\n              })\n              .then(() => {\n                // on close\n              });\n          }\n        });\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n.login-container\n  height 100%\n  background #fff\n  position absolute\n  bottom 0\n  left 0\n  right 0\n  .title-bar\n    font-size 24px\n    color #333\n    text-align center\n    margin 80px 0 40px\n    .sign\n      font-size 15px\n      display inline\n      margin-left 19px\n      color #333\n  .from\n    width 80%\n    margin 0 auto\n    position relative\n    .sub\n      background #BBBBBB\n      border none\n      &.success\n        background #ff6600\n        color #fff\n  .forget\n    text-align right\n    font-size 12px\n    color $theme-color\n    margin-top 20px\n    margin-bottom 30px\n  .message-login\n    color #FF6600\n    text-align center\n    font-size 15px\n    position relative\n    padding-top 10px\n  .line\n    color #333333\n    font-size 12px\n    width 80%\n    margin 20px auto\n  .wechat\n    width 60px\n    height 60px\n    margin 15px auto\n    border-radius 100%\n    overflow hidden\n    background #e5e5e5\n</style>\n","import { render } from \"./login.vue?vue&type=template&id=4a32bb1a&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=4a32bb1a&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/wuhelong/Documents/project_two/全市一体化/quan_h5/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a32bb1a\"]])\n\nexport default __exports__"],"sourceRoot":""}