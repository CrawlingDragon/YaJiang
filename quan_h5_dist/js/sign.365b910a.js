(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sign"],{"3e4c":function(e,t,n){},"68fa":function(e,t,n){"use strict";var c=n("7a23"),a={class:"deal-box"},s=Object(c["m"])(" 我已阅读并同意"),o=Object(c["m"])("与"),i=["innerHTML"],r=["innerHTML"];function u(e,t,n,u,l,d){var b=Object(c["P"])("van-checkbox"),h=Object(c["P"])("van-icon"),f=Object(c["P"])("van-overlay");return Object(c["H"])(),Object(c["j"])(c["b"],null,[Object(c["k"])("div",a,[Object(c["n"])(b,{modelValue:u.checkbox,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.checkbox=e}),"icon-size":"20px",class:"checkbox","checked-color":"#338aff"},null,8,["modelValue"]),s,Object(c["k"])("span",{onClick:t[1]||(t[1]=function(e){return u.show=!0})},"用户协议"),o,Object(c["k"])("span",{onClick:t[2]||(t[2]=function(e){return u.privacyShow=!0})},"隐私政策")]),Object(c["n"])(f,{show:u.show,onClick:t[5]||(t[5]=function(e){return u.show=!1}),"z-index":"20","lock-scroll":!1},{default:Object(c["Z"])((function(){return[Object(c["k"])("div",{class:"wrapper",onClick:t[4]||(t[4]=Object(c["bb"])((function(){}),["stop"]))},[Object(c["k"])("div",{class:"close-btn",onClick:t[3]||(t[3]=function(){return u.closeDeal&&u.closeDeal.apply(u,arguments)})},[Object(c["n"])(h,{name:"cross"})]),Object(c["k"])("h3",null,Object(c["T"])(l.privacyData.title),1),Object(c["k"])("p",{class:"text",innerHTML:l.privacyData.content},null,8,i)])]})),_:1},8,["show"]),Object(c["n"])(f,{show:u.privacyShow,onClick:t[8]||(t[8]=function(e){return u.privacyShow=!1}),"z-index":"20","lock-scroll":!1},{default:Object(c["Z"])((function(){return[Object(c["k"])("div",{class:"wrapper",onClick:t[7]||(t[7]=Object(c["bb"])((function(){}),["stop"]))},[Object(c["k"])("div",{class:"close-btn",onClick:t[6]||(t[6]=function(){return u.closePrivacy&&u.closePrivacy.apply(u,arguments)})},[Object(c["n"])(h,{name:"cross"})]),Object(c["k"])("h3",null,Object(c["T"])(l.dealData.title),1),Object(c["k"])("p",{class:"text",innerHTML:l.dealData.content},null,8,r)])]})),_:1},8,["show"])],64)}var l={props:{checked:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,a=Object(c["M"])(!1),s=Object(c["M"])(!1),o=Object(c["M"])(!1);function i(){s.value=!1}function r(){o.value=!1}return Object(c["Y"])(a,(function(e){n("update:checked",e)})),{checkbox:a,show:s,privacyShow:o,closeDeal:i,closePrivacy:r}},data:function(){return{dealData:{},privacyData:{}}},created:function(){this.getUserAgreement(),this.getUserPrivacy()},methods:{getUserAgreement:function(){var e=this;this.$axios.fetchGet("/Mobile/User/user_agreement").then((function(t){0===t.data.code&&(e.dealData=t.data.data)}))},getUserPrivacy:function(){var e=this;this.$axios.fetchGet("/Mobile/User/service_agreement").then((function(t){0===t.data.code&&(e.privacyData=t.data.data)}))}}},d=(n("b954"),n("d959")),b=n.n(d);const h=b()(l,[["render",u]]);t["a"]=h},"6be2":function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["K"])("data-v-4c8c7136");var a={class:"sign-container"},s=Object(c["k"])("div",{class:"title"},"快速注册",-1),o={style:{"margin-top":"30px","margin-left":"16px"}},i={style:{margin:"16px"}},r=Object(c["m"])(" 注册 "),u=Object(c["m"])("已有益农宝账号，去登录");function l(e,t,n,l,d,b){var h=Object(c["P"])("Header"),f=Object(c["P"])("van-field"),m=Object(c["P"])("van-count-down"),j=Object(c["P"])("Deal"),p=Object(c["P"])("van-button"),O=Object(c["P"])("van-form"),v=Object(c["P"])("router-link");return Object(c["H"])(),Object(c["j"])("div",a,[Object(c["n"])(h,{indexHeader:!1}),s,Object(c["n"])(O,{onSubmit:b.onSubmit2,class:"from"},{default:Object(c["Z"])((function(){return[Object(c["n"])(f,{modelValue:d.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.username=e}),name:"phone",placeholder:"请输入手机号",rules:[{required:!0,message:"手机号不能为空"},{validator:b.validatorPhone,message:"手机号码格式不正确"}]},null,8,["modelValue","rules"]),Object(c["n"])(f,{modelValue:d.sms,"onUpdate:modelValue":t[2]||(t[2]=function(e){return d.sms=e}),center:"",clearable:"",name:"code",placeholder:"请输入4位验证码",maxlength:"4",rules:[{required:!0,message:"验证码不能为空"}]},{button:Object(c["Z"])((function(){return[d.showBtn?(Object(c["H"])(),Object(c["j"])("div",{key:0,class:"btn",onClick:t[1]||(t[1]=function(){return b.start&&b.start.apply(b,arguments)})},"发送验证码")):Object(c["i"])("",!0),Object(c["ab"])(Object(c["k"])("div",null,[Object(c["n"])(m,{ref:"countDown",millisecond:"",time:6e4,"auto-start":!1,format:"ss秒后重试",onFinish:b.finish},null,8,["onFinish"])],512),[[c["X"],!d.showBtn]])]})),_:1},8,["modelValue"]),Object(c["n"])(f,{modelValue:d.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return d.password=e}),type:"password",name:"pwd",placeholder:"请输入密码（6-20位）",minlength:"6",maxlength:"20",rules:[{required:!0,message:"密码不能为空"},{validator:b.passwordLengValidator,message:d.passwordLengthMessage}]},null,8,["modelValue","rules"]),Object(c["k"])("div",o,[Object(c["n"])(j,{checked:d.checked,"onUpdate:checked":t[4]||(t[4]=function(e){return d.checked=e})},null,8,["checked"])]),Object(c["k"])("div",i,[Object(c["n"])(p,{round:"",block:"",type:"info","native-type":"submit",class:Object(c["y"])(["sub",{success:d.checked&&d.password&&d.username&&d.sms}])},{default:Object(c["Z"])((function(){return[r]})),_:1},8,["class"])])]})),_:1},8,["onSubmit"]),Object(c["n"])(v,{class:"go-login",to:"/login"},{default:Object(c["Z"])((function(){return[u]})),_:1})])}Object(c["I"])();var d=n("5530"),b=n("f392"),h=n("5502"),f=n("213a"),m=n("68fa"),j={name:"sign",components:{Header:b["a"],Deal:m["a"]},setup:function(){Object(f["c"])({title:"注册"})},props:{},data:function(){return{showBtn:!0,clickTrue:!1,username:"",sms:"",password:"",checked:!1,passwordLengthMessage:"密码长度不能少于6位"}},created:function(){},computed:{},watch:{},mounted:function(){},methods:Object(d["a"])(Object(d["a"])({},Object(h["b"])(["saveUserInfo"])),{},{passwordLengValidator:function(){return this.password.length<=5?(this.passwordLengthMessage="密码长度不能少于6位",!1):this.password.length>=21?(this.passwordLengthMessage="密码长度不能多于20位",!1):void 0},validatorPhone:function(e){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)?this.clickTrue=!0:this.clickTrue=!1,/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)},finish:function(){this.$refs.countDown.reset(),this.showBtn=!0,this.clickTrue=!0},onSubmit2:function(){this.checked?this.signFn(this.username,this.password,this.sms):this.$toast("必须先同意用户协议和隐私政策")},signFn:function(e,t,n){var c=this;this.$axios.fetchPost("Mobile/Member/register",{username:e,password:t,code:n}).then((function(e){var t=e.data;c.$toast(e.data.message),0==t.code&&(c.saveUserInfo(t.data),setTimeout((function(){c.$router.push({path:"/index"})}),500))}))},start:function(){this.clickTrue&&this.sendPhone()},sendPhone:function(){var e=this;this.$axios.fetchPost("Mobile/Member/ServerSmsCode",{mobile:this.username,action:"reg"}).then((function(t){0==t.data.code?(e.$toast(t.data.message),e.clickTrue=!1,e.showBtn=!1,setTimeout((function(){e.$refs.countDown.start()}),100)):e.$dialog.alert({message:t.data.message,confirmButtonText:"知道了",confirmButtonColor:"#338aff"}).then((function(){}))}))}})},p=(n("f002"),n("d959")),O=n.n(p);const v=O()(j,[["render",l],["__scopeId","data-v-4c8c7136"]]);t["default"]=v},b954:function(e,t,n){"use strict";n("3e4c")},ebf9:function(e,t,n){},f002:function(e,t,n){"use strict";n("ebf9")}}]);
//# sourceMappingURL=sign.365b910a.js.map