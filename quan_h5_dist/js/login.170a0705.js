(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"3e4c":function(e,t,c){},"68fa":function(e,t,c){"use strict";var n=c("7a23"),a={class:"deal-box"},o=Object(n["m"])(" 我已阅读并同意"),r=Object(n["m"])("与"),s=["innerHTML"],i=["innerHTML"];function u(e,t,c,u,l,d){var b=Object(n["P"])("van-checkbox"),f=Object(n["P"])("van-icon"),j=Object(n["P"])("van-overlay");return Object(n["H"])(),Object(n["j"])(n["b"],null,[Object(n["k"])("div",a,[Object(n["n"])(b,{modelValue:u.checkbox,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.checkbox=e}),"icon-size":"20px",class:"checkbox","checked-color":"#338aff"},null,8,["modelValue"]),o,Object(n["k"])("span",{onClick:t[1]||(t[1]=function(e){return u.show=!0})},"用户协议"),r,Object(n["k"])("span",{onClick:t[2]||(t[2]=function(e){return u.privacyShow=!0})},"隐私政策")]),Object(n["n"])(j,{show:u.show,onClick:t[5]||(t[5]=function(e){return u.show=!1}),"z-index":"20","lock-scroll":!1},{default:Object(n["Z"])((function(){return[Object(n["k"])("div",{class:"wrapper",onClick:t[4]||(t[4]=Object(n["bb"])((function(){}),["stop"]))},[Object(n["k"])("div",{class:"close-btn",onClick:t[3]||(t[3]=function(){return u.closeDeal&&u.closeDeal.apply(u,arguments)})},[Object(n["n"])(f,{name:"cross"})]),Object(n["k"])("h3",null,Object(n["T"])(l.privacyData.title),1),Object(n["k"])("p",{class:"text",innerHTML:l.privacyData.content},null,8,s)])]})),_:1},8,["show"]),Object(n["n"])(j,{show:u.privacyShow,onClick:t[8]||(t[8]=function(e){return u.privacyShow=!1}),"z-index":"20","lock-scroll":!1},{default:Object(n["Z"])((function(){return[Object(n["k"])("div",{class:"wrapper",onClick:t[7]||(t[7]=Object(n["bb"])((function(){}),["stop"]))},[Object(n["k"])("div",{class:"close-btn",onClick:t[6]||(t[6]=function(){return u.closePrivacy&&u.closePrivacy.apply(u,arguments)})},[Object(n["n"])(f,{name:"cross"})]),Object(n["k"])("h3",null,Object(n["T"])(l.dealData.title),1),Object(n["k"])("p",{class:"text",innerHTML:l.dealData.content},null,8,i)])]})),_:1},8,["show"])],64)}var l={props:{checked:{type:Boolean,default:!1}},setup:function(e,t){var c=t.emit,a=Object(n["M"])(!1),o=Object(n["M"])(!1),r=Object(n["M"])(!1);function s(){o.value=!1}function i(){r.value=!1}return Object(n["Y"])(a,(function(e){c("update:checked",e)})),{checkbox:a,show:o,privacyShow:r,closeDeal:s,closePrivacy:i}},data:function(){return{dealData:{},privacyData:{}}},created:function(){this.getUserAgreement(),this.getUserPrivacy()},methods:{getUserAgreement:function(){var e=this;this.$axios.fetchGet("/Mobile/User/user_agreement").then((function(t){0===t.data.code&&(e.dealData=t.data.data)}))},getUserPrivacy:function(){var e=this;this.$axios.fetchGet("/Mobile/User/service_agreement").then((function(t){0===t.data.code&&(e.privacyData=t.data.data)}))}}},d=(c("b954"),c("d959")),b=c.n(d);const f=b()(l,[["render",u]]);t["a"]=f},9770:function(e,t,c){"use strict";c("d356")},b954:function(e,t,c){"use strict";c("3e4c")},d356:function(e,t,c){},dc3f:function(e,t,c){"use strict";c.r(t);var n=c("7a23");Object(n["K"])("data-v-4a32bb1a");var a={class:"login-container"},o={class:"title-bar"},r=Object(n["m"])(" 账号密码登录"),s=Object(n["m"])("注册"),i=Object(n["m"])("忘记密码？"),u={style:{margin:"16px"}},l=Object(n["m"])(" 登录 "),d=Object(n["m"])("短信快捷登录>");function b(e,t,c,b,f,j){var O=Object(n["P"])("Header"),h=Object(n["P"])("router-link"),p=Object(n["P"])("van-field"),m=Object(n["P"])("Deal"),v=Object(n["P"])("van-button"),k=Object(n["P"])("van-form");return Object(n["H"])(),Object(n["j"])("div",a,[Object(n["n"])(O,{indexHeader:!1}),Object(n["k"])("div",o,[r,Object(n["n"])(h,{to:"/sign",class:"sign"},{default:Object(n["Z"])((function(){return[s]})),_:1})]),Object(n["n"])(k,{onSubmit:j.onSubmit,class:"from"},{default:Object(n["Z"])((function(){return[Object(n["n"])(p,{modelValue:f.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.username=e}),type:"text",name:"phone",placeholder:"请输入手机号",rules:[{validator:j.validatorPhone,message:"手机格式不正确"},{required:!0}]},null,8,["modelValue","rules"]),Object(n["n"])(p,{modelValue:f.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.password=e}),type:"password",name:"pwd",placeholder:"请输入密码",rules:[{required:!0}]},null,8,["modelValue"]),Object(n["n"])(h,{class:"forget",to:"/find_password"},{default:Object(n["Z"])((function(){return[i]})),_:1}),Object(n["n"])(m,{checked:f.checked,"onUpdate:checked":t[2]||(t[2]=function(e){return f.checked=e})},null,8,["checked"]),Object(n["k"])("div",u,[Object(n["n"])(v,{round:"",block:"",type:"info","native-type":"submit",class:Object(n["y"])(["sub",{success:f.username&&f.password&&f.clickTrue&&f.checked}])},{default:Object(n["Z"])((function(){return[l]})),_:1},8,["class"])])]})),_:1},8,["onSubmit"]),Object(n["n"])(h,{class:"message-login",to:"m_login"},{default:Object(n["Z"])((function(){return[d]})),_:1})])}Object(n["I"])();var f=c("5530"),j=c("f392"),O=c("68fa"),h=c("213a"),p=c("5502"),m={setup:function(){Object(h["c"])({title:"登录"})},name:"Login",components:{Header:j["a"],Deal:O["a"]},props:{},data:function(){return{username:"",password:"",checked:!1,clickTrue:!1,userAgreement:{}}},created:function(){},computed:Object(f["a"])({},Object(p["e"])(["uId"])),watch:{},mounted:function(){},unmounted:function(){},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(p["d"])(["setUid","setLogined"])),Object(p["b"])(["saveUserInfo"])),{},{validatorPhone:function(e){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)?this.clickTrue=!0:this.clickTrue=!1,/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)},onSubmit:function(){var e=this;this.checked?this.$axios.fetchPost("Mobile/Member/login",{username:this.username,password:this.password}).then((function(t){var c=t.data;0==c.code?(e.saveUserInfo(c.data),e.$toast(c.message),setTimeout((function(){e.$router.push({path:"/index"})}),500)):e.$dialog.alert({title:"登录失败",message:c.message,confirmButtonText:"知道了",confirmButtonColor:"#338aff"}).then((function(){}))})):this.$toast("必须先同意用户协议和隐私政策")}})},v=(c("9770"),c("d959")),k=c.n(v);const w=k()(m,[["render",b],["__scopeId","data-v-4a32bb1a"]]);t["default"]=w}}]);
//# sourceMappingURL=login.170a0705.js.map