{"version":3,"sources":["webpack:///./src/views/invite_expert/invite_expert.vue?965e","webpack:///./src/views/invite_expert/invite_expert.vue","webpack:///./src/views/invite_expert/invite_expert.vue?5e60"],"names":["list","noData","store","router","currentInstance","global","appContext","config","globalProperties","title","uId","state","getDataList","$axios","fetchPost","value","then","res","data","code","agree","id","passed","name","confirm","message","confirmButtonText","cancelButtonText","catch","passedAxiosFn","msg","goToCenter","item","commit","mid","isstore","setTimeout","push","path","__exports__"],"mappings":"iHAAA,W,0kBCoDA,IAAMA,EAAO,eAAI,IACXC,EAAS,gBAAI,GACbC,EAAQ,iBACRC,EAAS,iBACTC,EAAkB,iBAClBC,EAASD,EAAgBE,WAAWC,OAAOC,iBACjD,eAAQ,CACNC,MAAO,SAET,IAAMC,EAAM,gBAAS,kBAAMR,EAAMS,MAAMD,OAEvC,SAASE,IACPP,EAAOQ,OACJC,UAAU,0BAA2B,CAAEJ,IAAKA,EAAIK,QAChDC,MAAK,SAAAC,GACkB,IAAlBA,EAAIC,KAAKC,KACXnB,EAAKe,MAAQE,EAAIC,KAAKA,KAEtBjB,EAAOc,OAAQ,KAOvB,SAASK,EAAMC,EAAIC,EAAQC,GACzB,OAAOC,QAAQ,CACbC,QAAS,KAAF,OAAiB,GAAVH,EAAc,KAAO,MAA5B,OAAmCC,EAAnC,UACPG,kBAAmB,KACnBC,iBAAkB,OAEjBX,MAAK,eAGLY,OAAM,WAELC,EAAcR,EAAIC,MAkBxB,SAASO,EAAcR,EAAIC,GACzBjB,EAAOQ,OACJC,UAAU,yBAA0B,CAAEJ,IAAKA,EAAIK,MAAOM,KAAIC,WAC1DN,MAAK,SAAAC,GACJ,GAAsB,IAAlBA,EAAIC,KAAKC,KAAY,CACvBP,IACA,IAAIkB,EAAgB,GAAVR,EAAc,MAAQ,MAChC,eAAMQ,QAEN,eAAMb,EAAIC,KAAKO,YAIvB,SAASM,EAAWC,GAGlB9B,EAAM+B,OAAO,SAAUD,EAAKE,KAC5BhC,EAAM+B,OAAO,kBAAmBD,EAAKT,MACrCrB,EAAM+B,OAAO,qBAAsBD,EAAKG,SACxCC,YAAW,WACTjC,EAAOkC,KAAK,CACVC,KAAM,gBAEP,K,OAvDL,gBAAU,WACR1B,O,20CCrEF,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD","file":"js/invite_expert.30d7207d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./invite_expert.vue?vue&type=style&index=0&id=c12ab92c&lang=stylus&scoped=true\"","<template>\n  <Header :indexHeader=\"false\"></Header>\n  <ul class=\"invite-ul\">\n    <li\n      v-for=\"item in list\"\n      :key=\"item\"\n      :class=\"{ 'agree-li': item.passed == 1, 'refuse-li': item.passed == 2 }\"\n    >\n      <div class=\"time\">{{ item.addtime }}</div>\n      <div class=\"mid\">\n        <van-image\n          class=\"img\"\n          fit=\"contain\"\n          @click=\"goToCenter(item)\"\n          :src=\"item.logo\"\n        ></van-image>\n        <div class=\"name\" @click=\"goToCenter(item)\">\n          <div class=\"center-name\">\n            {{ item.name }}\n          </div>\n          <div class=\"small-title\">邀请您成为新型庄稼医院专家</div>\n        </div>\n      </div>\n      <div class=\"btns van-hairline--top\" v-if=\"item.passed == 0\">\n        <div class=\"btn agree\" @click=\"agree(item.id, 1, item.name)\">\n          同意\n        </div>\n        <div class=\"btn refuse\" @click=\"agree(item.id, 2, item.name)\">\n          拒绝\n        </div>\n      </div>\n      <div class=\"btns van-hairline--top\" v-else>\n        <div class=\"btn agree\" v-if=\"item.passed == 1\">\n          已同意\n        </div>\n        <div class=\"btn refuse disbaled\" v-if=\"item.passed == 2\">\n          已拒绝\n        </div>\n      </div>\n    </li>\n  </ul>\n  <van-empty description=\"暂无数据\" v-if=\"noData\"></van-empty>\n</template>\n\n<script setup>\nimport Header from \"@/components/header/header\";\nimport { ref, computed, onMounted, getCurrentInstance } from \"vue\";\nimport { Toast, Dialog } from \"vant\";\nimport { useMeta } from \"vue-meta\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nconst list = ref([]);\nconst noData = ref(false);\nconst store = useStore();\nconst router = useRouter();\nconst currentInstance = getCurrentInstance();\nconst global = currentInstance.appContext.config.globalProperties;\nuseMeta({\n  title: \"邀请专家\"\n});\nconst uId = computed(() => store.state.uId);\n\nfunction getDataList() {\n  global.$axios\n    .fetchPost(\"Mobile/User/getMyInvite\", { uId: uId.value })\n    .then(res => {\n      if (res.data.code === 0) {\n        list.value = res.data.data;\n      } else {\n        noData.value = true;\n      }\n    });\n}\nonMounted(() => {\n  getDataList();\n});\nfunction agree(id, passed, name) {\n  Dialog.confirm({\n    message: `确定${passed == 1 ? \"同意\" : \"拒绝\"}${name}的专家邀请吗`,\n    confirmButtonText: \"取消\",\n    cancelButtonText: \"确定\"\n  })\n    .then(() => {\n      // on confirm\n    })\n    .catch(() => {\n      // on cancel\n      passedAxiosFn(id, passed);\n      // Toast(\"已同意\");\n    });\n}\n// function refuse(id, passed, name) {\n//   Dialog.confirm({\n//     message: `确定拒绝${name}的专家邀请吗`,\n//     confirmButtonText: \"取消\",\n//     cancelButtonText: \"确定\"\n//   })\n//     .then(() => {\n//       // on confirm\n//     })\n//     .catch(() => {\n//       // on cancel\n//       passedAxiosFn(id, passed);\n//     });\n// }\nfunction passedAxiosFn(id, passed) {\n  global.$axios\n    .fetchPost(\"Mobile/User/doMyInvite\", { uId: uId.value, id, passed })\n    .then(res => {\n      if (res.data.code === 0) {\n        getDataList();\n        let msg = passed == 1 ? \"已同意\" : \"已拒绝\";\n        Toast(msg);\n      } else {\n        Toast(res.data.message);\n      }\n    });\n}\nfunction goToCenter(item) {\n  //去到对应的医院\n\n  store.commit(\"setMid\", item.mid);\n  store.commit(\"setHospitalName\", item.name);\n  store.commit(\"setHospitalIsStore\", item.isstore);\n  setTimeout(() => {\n    router.push({\n      path: \"/hospital\"\n    });\n  }, 100);\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.invite-ul\n  margin-top 10px\n  & > li\n    padding 0 12px\n    background #fff\n    margin-bottom 10px\n    &.agree-li,&.refuse-li\n      .name\n        color #999999 !important\n      .agree\n        background $theme-secondary-color !important\n      .refuse\n        color #fff !important\n        background #B8B8B8 !important\n        border none !important\n      .disabled\n        color red\n    .time\n      height 40px\n      line-height 40px\n      font-size: 12px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #999999;\n    .mid\n      display flex\n      padding-bottom 15px\n      .img\n        width 60px\n        height 60px\n        background: #E5E5E5;\n        border-radius: 10px;\n        margin-right 10px\n      .name\n        display flex\n        justify-content  space-around\n        color: #333333;\n        flex-direction column\n        flex 1\n        min-width 0\n        .center-name\n          font-size 19px\n        .small-title\n          font-size 14px\n    .btns\n      text-align right\n      height 50px\n      line-height 50px\n      .btn\n        display inline-block\n        width 80px\n        height 30px\n        line-height 30px\n        vertical-align middle\n        text-align center\n        border-radius: 4px;\n        &.agree\n          background $theme-color\n          color #fff\n        &.refuse\n          color #ff6600\n          margin-left 15px\n          border 1px solid #ff6600\n          background #fff\n</style>\n","import script from \"./invite_expert.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./invite_expert.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./invite_expert.vue?vue&type=style&index=0&id=c12ab92c&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/wuhelong/Documents/project_two/全市一体化/quan_h5/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c12ab92c\"]])\n\nexport default __exports__"],"sourceRoot":""}