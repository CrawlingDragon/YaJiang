(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search_hospital"],{"042d":function(t,e,c){"use strict";c("4e9a")},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"4e9a":function(t,e,c){},"5c53":function(t,e,c){"use strict";c.r(e);c("ac1f"),c("841c");var a=c("7a23");Object(a["K"])("data-v-5844abba");var i={class:"search_hospital-container"},n={action:"/"},s={class:"hot",style:{"padding-left":"12px"}},o=Object(a["k"])("div",{class:"title"},"热搜词",-1),l={class:"hot-ul"},u=["onClick"],r={key:0,class:"hot"},h=Object(a["k"])("div",{class:"title",style:{"margin-bottom":"5px"}},"历史搜索",-1),d={class:"history-ul"},b=["onClick"],j={class:"result-box"},O={class:"title"},f=["onClick"],p={class:"right"},v={class:"name"},k={class:"knid"};function H(t,e,c,H,g,m){var w=Object(a["P"])("Header"),x=Object(a["P"])("van-search"),I=Object(a["P"])("van-image"),y=Object(a["P"])("van-empty");return Object(a["H"])(),Object(a["j"])("div",i,[Object(a["n"])(w,{indexHeader:!1}),Object(a["k"])("form",n,[Object(a["n"])(x,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=function(t){return g.value=t}),"show-action":"",placeholder:"请输入搜索关键词",onSearch:m.onSearch,onCancel:m.onCancel,onFocus:m.searchFocus},null,8,["modelValue","onSearch","onCancel","onFocus"])]),Object(a["k"])("div",{class:"wrap",onClick:e[2]||(e[2]=function(){return m.hideHot&&m.hideHot.apply(m,arguments)})},[Object(a["ab"])(Object(a["k"])("div",s,[o,Object(a["k"])("ul",l,[(Object(a["H"])(!0),Object(a["j"])(a["b"],null,Object(a["N"])(g.hot,(function(t){return Object(a["H"])(),Object(a["j"])("li",{key:t.title,onClick:function(e){return m.goToHospital(t.mid)}},Object(a["T"])(t.title),9,u)})),128))])],512),[[a["X"],!g.showResult]]),0!=g.hispital.length?Object(a["ab"])((Object(a["H"])(),Object(a["j"])("div",r,[h,Object(a["k"])("ul",d,[(Object(a["H"])(!0),Object(a["j"])(a["b"],null,Object(a["N"])(g.hispital,(function(t){return Object(a["H"])(),Object(a["j"])("li",{key:t.title,onClick:function(e){return m.search(t)}},Object(a["T"])(t.title),9,b)})),128))]),Object(a["k"])("div",{class:"clear",onClick:e[1]||(e[1]=function(t){return m.clearHispital()})},"清空历史")],512)),[[a["X"],!g.showResult]]):Object(a["i"])("",!0),Object(a["ab"])(Object(a["k"])("div",j,[Object(a["ab"])(Object(a["k"])("div",O,"搜索结果",512),[[a["X"],0!=g.list.length]]),Object(a["k"])("ul",null,[(Object(a["H"])(!0),Object(a["j"])(a["b"],null,Object(a["N"])(g.list,(function(t){return Object(a["H"])(),Object(a["j"])("li",{key:t.mid,onClick:function(e){return m.goToHospital(t.mid)}},[Object(a["n"])(I,{class:"img",src:t.logo,fit:"cover"},null,8,["src"]),Object(a["k"])("div",p,[Object(a["k"])("div",v,[Object(a["m"])(Object(a["T"])(t.title)+" ",1),Object(a["ab"])(Object(a["k"])("span",null,"实体店",512),[[a["X"],!1]])]),Object(a["k"])("div",k,"科室："+Object(a["T"])(t.zuowu),1)])],8,f)})),128))])],512),[[a["X"],g.showResult]]),g.noData?Object(a["ab"])((Object(a["H"])(),Object(a["h"])(y,{key:1,image:"error",description:"未搜索到符合条件的内容"},null,512)),[[a["X"],g.showResult]]):Object(a["i"])("",!0)])])}Object(a["I"])();var g=c("5530"),m=c("f392"),w=c("5502"),x=c("213a"),I={setup:function(){Object(x["c"])({title:"搜索医院"})},name:"searchHospital",components:{Header:m["a"]},props:{},data:function(){return{value:"",list:[],hispital:[],hot:[],noData:!1,showResult:!1}},computed:Object(g["a"])({},Object(w["e"])(["uId","axiosAddress"])),watch:{},mounted:function(){this.getHispital(),this.gerHot()},methods:Object(g["a"])(Object(g["a"])({searchFocus:function(){this.showResult=!1},hideHot:function(){0==this.list.length&&1!=this.noData||(this.showResult=!0)}},Object(w["d"])(["setMid"])),{},{onSearch:function(t){this.getSearchresult(t),this.showResult=!0},onCancel:function(){this.$router.push({path:"/into_hospital"})},search:function(t){this.showResult=!0;var e=t.title;this.value=t.title,this.getSearchresult(e)},getSearchresult:function(t){var e=this;this.noData=!1,this.$axios.fetchPost("Mobile/Entrance/lists",{keyword:t,location:this.axiosAddress,uId:this.uId,page_size:200}).then((function(t){0==t.data.code&&(e.list=t.data.data,e.getHispital(),0==t.data.data.length&&(e.noData=!0))}))},getHispital:function(){var t=this;this.$axios.fetchPost("Mobile/Entrance/getHistory",{uId:this.uId}).then((function(e){0==e.data.code&&(t.hispital=e.data.data)}))},gerHot:function(){var t=this;this.$axios.fetchPost("Mobile/Entrance/getHotwords").then((function(e){0==e.data.code&&(t.hot=e.data.data)}))},goToHospital:function(t){var e=this;this.setMid(t),setTimeout((function(){e.$router.push({path:"/hospital"})}),100)},clearHispital:function(){var t=this;this.$axios.fetchPost("/Mobile/Entrance/clearRecord",{uId:this.uId}).then((function(e){0==e.data.code&&(t.$toast(e.data.message),t.getHispital())}))}})},y=(c("042d"),c("d959")),C=c.n(y);const R=C()(I,[["render",H],["__scopeId","data-v-5844abba"]]);e["default"]=R},"841c":function(t,e,c){"use strict";var a=c("d784"),i=c("825a"),n=c("1d80"),s=c("129f"),o=c("577e"),l=c("14c3");a("search",(function(t,e,c){return[function(e){var c=n(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,c):new RegExp(e)[t](o(c))},function(t){var a=i(this),n=o(t),u=c(e,a,n);if(u.done)return u.value;var r=a.lastIndex;s(r,0)||(a.lastIndex=0);var h=l(a,n);return s(a.lastIndex,r)||(a.lastIndex=r),null===h?-1:h.index}]}))}}]);
//# sourceMappingURL=search_hospital.eca90405.js.map