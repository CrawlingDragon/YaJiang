(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-371a3d0c"],{"232d":function(t,e,c){},3133:function(t,e,c){"use strict";c("232d")},"55ac":function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23");Object(n["K"])("data-v-477bdc93");var i={class:"preview"},a={class:"step-title-bar"},s={class:"title-content",ref:"title"},r=["onClick"],o={class:"item"},l={class:"step-box"},b={class:"title"},d={class:"small-title"},u={class:"right"},j={class:"time"},f={class:"text"},O={key:0,class:"pharmacy"},v=Object(n["k"])("div",{class:"pharmacy-title"},"用肥用药：",-1),h={class:"pharmacy-text"},p={class:"p1"},m={class:"p2"},k=["href"];function w(t,e,c,w,T,I){var g=Object(n["P"])("Header"),H=Object(n["P"])("van-icon"),y=Object(n["P"])("van-sticky"),x=Object(n["P"])("van-image");return Object(n["H"])(),Object(n["j"])("div",i,[Object(n["n"])(g,{indexHeader:!1,goBackHeader:!0}),Object(n["n"])(y,{"offset-top":40},{default:Object(n["Z"])((function(){return[Object(n["k"])("div",a,[Object(n["k"])("div",s,[(Object(n["H"])(!0),Object(n["j"])(n["b"],null,Object(n["N"])(I.navBar,(function(t,e){return Object(n["H"])(),Object(n["j"])("div",{key:t.classname,ref:I.setItemRefItem,class:Object(n["y"])(["item-wrap",{active:T.active1===e}]),onClick:function(c){return I.clickHandle(t,e)}},[Object(n["k"])("div",o,Object(n["T"])(t.classname),1),Object(n["n"])(H,{name:"arrow",class:"arrow"})],10,r)})),128))],512)])]})),_:1}),(Object(n["H"])(!0),Object(n["j"])(n["b"],null,Object(n["N"])(T.caseArr,(function(t){return Object(n["H"])(),Object(n["j"])("div",{class:"steps",key:t.id,ref:I.setItemRefIt},[Object(n["k"])("div",l,[Object(n["k"])("div",b,Object(n["T"])(t.classname),1),(Object(n["H"])(!0),Object(n["j"])(n["b"],null,Object(n["N"])(t.lists,(function(t){return Object(n["H"])(),Object(n["j"])("div",{class:"step",key:t.id},[Object(n["k"])("div",d,Object(n["T"])(t.classname),1),Object(n["k"])("div",u,[Object(n["k"])("div",j,Object(n["T"])(t.timepoint),1),Object(n["k"])("div",f,Object(n["T"])(t.content),1),0!==t.druginfo.length?(Object(n["H"])(),Object(n["j"])("div",O,[v,(Object(n["H"])(!0),Object(n["j"])(n["b"],null,Object(n["N"])(t.druginfo,(function(t){return Object(n["H"])(),Object(n["j"])("div",{class:"pharmacy-item",key:t.specid},[Object(n["n"])(x,{class:"img",src:t.thumb,fit:"fill"},null,8,["src"]),Object(n["k"])("div",h,[Object(n["k"])("div",p,Object(n["T"])(t.name),1),Object(n["k"])("div",m,"用法用量说明："+Object(n["T"])(t.quantity),1)]),Object(n["k"])("a",{href:t.url,class:"bug"},"购买",8,k)])})),128))])):Object(n["i"])("",!0)])])})),128))])],512)})),128))])}Object(n["I"])();var T=c("2909"),I=c("5530"),g=(c("159b"),c("f392")),H=c("ba6a"),y=c("5502"),x={name:"preview",metaInfo:{title:"预览"},components:{Header:g["a"]},props:{},data:function(){return{w:0,caseArr:[],active1:0,top:0,re:[],active:0,offTop:[],item:[],it:[]}},computed:Object(I["a"])(Object(I["a"])({},Object(y["e"])(["uId"])),{},{pId:function(){return this.$route.query.pId},navBar:function(){var t=this,e=[];return 0!==this.caseArr.length&&this.caseArr.forEach((function(c,n){e.push({classname:c.classname,index:n,option:t.offTop[n]})})),e}}),watch:{caseArr:function(){var t=this;this.$nextTick((function(){t.re=t.it,t.re.forEach((function(e){t.offTop.push(e.offsetTop-100)}))}))}},mounted:function(){this.getPreviewData(),window.addEventListener("scroll",this.handleScroll,!1)},unmounted:function(){window.removeEventListener("scroll",this.handleScroll,!1)},methods:{setItemRefItem:function(t){this.item.push(t)},setItemRefIt:function(t){this.it.push(t)},clickHandle:function(t,e){var c=this;this.$nextTick((function(){c.top=c.it[e].offsetTop-100,window.scrollTo({top:c.top,behavior:"smooth"})}))},handleScroll:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop;setTimeout((function(){for(var c=Object(T["a"])(t.navBar).reverse(),n=0;n<c.length;n++)if(c[n].option<=e){t.active=c.length-1-n;break}t.active1=t.active}),200)},getPreviewData:function(){var t=this;H["a"].fetchGet("/Mobile/Gbase/getUserproject",{uId:this.uId,action:"template_preview",pId:this.pId}).then((function(e){var c=e.data;0===c.code&&(t.caseArr=c.data.list,t.getNavWidth()),c.errcode&&alert(c.message)}))},getNavWidth:function(){var t=this;this.$nextTick((function(){t.item.forEach((function(e){var c=e.offsetWidth;t.w+=c})),t.$refs.title.style.width=t.w+20+"px"}))}}},A=(c("3133"),c("d959")),E=c.n(A);const N=E()(x,[["render",w],["__scopeId","data-v-477bdc93"]]);e["default"]=N}}]);
//# sourceMappingURL=chunk-371a3d0c.9584833e.js.map