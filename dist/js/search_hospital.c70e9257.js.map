{"version":3,"sources":["webpack:///./src/views/search_hospital/search_hospital.vue?5232","webpack:///./src/views/search_hospital/search_hospital.vue","webpack:///./src/views/search_hospital/search_hospital.vue?5fad"],"names":["class","action","style","indexHeader","value","show-action","placeholder","onSearch","onCancel","searchFocus","hideHot","hot","item","key","title","goToHospital","mid","showResult","hispital","length","search","clearHispital","list","src","logo","fit","zuowu","noData","image","description","setup","name","components","Header","props","data","computed","watch","mounted","this","getHispital","gerHot","methods","val","getSearchresult","$router","push","path","keyword","$axios","fetchPost","location","axiosAddress","uId","page_size","then","res","code","setMid","setTimeout","$toast","message","__exports__","render"],"mappings":"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","file":"js/search_hospital.c70e9257.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./search_hospital.vue?vue&type=style&index=0&id=5844abba&lang=stylus&scoped=true\"","<template>\n  <div class=\"search_hospital-container\">\n    <Header :indexHeader=\"false\"></Header>\n\n    <form action=\"/\">\n      <van-search\n        v-model=\"value\"\n        show-action\n        placeholder=\"请输入搜索关键词\"\n        @search=\"onSearch\"\n        @cancel=\"onCancel\"\n        @focus=\"searchFocus\"\n      />\n    </form>\n    <div class=\"wrap\" @click=\"hideHot\">\n      <div class=\"hot\" v-show=\"!showResult\" style=\"padding-left: 12px\">\n        <div class=\"title\">热搜词</div>\n        <ul class=\"hot-ul\">\n          <li\n            v-for=\"item in hot\"\n            :key=\"item.title\"\n            @click=\"goToHospital(item.mid)\"\n          >\n            {{ item.title }}\n          </li>\n        </ul>\n      </div>\n      <div class=\"hot\" v-if=\"hispital.length != 0\" v-show=\"!showResult\">\n        <div class=\"title\" style=\"margin-bottom:5px\">历史搜索</div>\n        <ul class=\"history-ul\">\n          <li v-for=\"item in hispital\" :key=\"item.title\" @click=\"search(item)\">\n            {{ item.title }}\n          </li>\n        </ul>\n        <div class=\"clear\" @click=\"clearHispital()\">清空历史</div>\n      </div>\n      <div class=\"result-box\" v-show=\"showResult\">\n        <div class=\"title\" v-show=\"list.length != 0\">搜索结果</div>\n        <ul>\n          <li\n            v-for=\"item in list\"\n            :key=\"item.mid\"\n            @click=\"goToHospital(item.mid)\"\n          >\n            <van-image class=\"img\" :src=\"item.logo\" fit=\"cover\"></van-image>\n            <div class=\"right\">\n              <div class=\"name\">\n                {{ item.title }}\n                <span v-show=\"false\">实体店</span>\n                <!-- <span v-show=\"item.isstore == 1\">实体店</span> -->\n              </div>\n              <div class=\"knid\">科室：{{ item.zuowu }}</div>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <van-empty\n        image=\"error\"\n        description=\"未搜索到符合条件的内容\"\n        v-if=\"noData\"\n        v-show=\"showResult\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport Header from \"@/components/header/header\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { useMeta } from \"vue-meta\";\nexport default {\n  setup() {\n    useMeta({\n      title: \"搜索医院\"\n    });\n  },\n  name: \"searchHospital\",\n  components: { Header },\n  props: {},\n  data() {\n    return {\n      value: \"\",\n      // location: this.$route.query.location,\n      list: [],\n      hispital: [],\n      hot: [],\n      noData: false,\n      showResult: false\n    };\n  },\n  computed: {\n    ...mapState([\"uId\", \"axiosAddress\"])\n  },\n  watch: {},\n  mounted() {\n    this.getHispital();\n    this.gerHot();\n  },\n  methods: {\n    searchFocus() {\n      this.showResult = false;\n    },\n    hideHot() {\n      if (this.list.length != 0 || this.noData == true) {\n        this.showResult = true;\n      }\n    },\n    ...mapMutations([\"setMid\"]),\n    onSearch(val) {\n      this.getSearchresult(val);\n      this.showResult = true;\n    },\n    onCancel() {\n      this.$router.push({ path: \"/into_hospital\" });\n    },\n    search(item) {\n      this.showResult = true;\n      let keyword = item.title;\n      this.value = item.title;\n      this.getSearchresult(keyword);\n    },\n    getSearchresult(keyword) {\n      this.noData = false;\n      this.$axios\n        .fetchPost(\"Mobile/Entrance/lists\", {\n          keyword: keyword,\n          location: this.axiosAddress,\n          uId: this.uId,\n          page_size: 200\n        })\n        .then(res => {\n          if (res.data.code == 0) {\n            this.list = res.data.data;\n            this.getHispital();\n            if (res.data.data.length == 0) {\n              this.noData = true;\n            }\n          }\n        });\n    },\n    getHispital() {\n      this.$axios\n        .fetchPost(\"Mobile/Entrance/getHistory\", { uId: this.uId })\n        .then(res => {\n          if (res.data.code == 0) {\n            this.hispital = res.data.data;\n          }\n        });\n    },\n    gerHot() {\n      this.$axios.fetchPost(\"Mobile/Entrance/getHotwords\").then(res => {\n        if (res.data.code == 0) {\n          this.hot = res.data.data;\n        }\n      });\n    },\n    goToHospital(mid) {\n      this.setMid(mid);\n      setTimeout(() => {\n        this.$router.push({\n          path: \"/hospital\"\n        });\n      }, 100);\n    },\n    clearHispital() {\n      this.$axios\n        .fetchPost(\"/Mobile/Entrance/clearRecord\", { uId: this.uId })\n        .then(res => {\n          if (res.data.code == 0) {\n            this.$toast(res.data.message);\n            this.getHispital();\n          }\n        });\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n.search_hospital-container\n  color #333\n  height 100%\n  position absolute\n  bottom 0\n  top 40px\n  left: 0;\n  right: 0;\n  .wrap\n    height 100%\n  .hot\n    position relative\n    .title\n      color #999\n      font-size 12px\n      margin-bottom 15px\n      margin-top 15px\n      padding-left 12px\n    .hot-ul\n      li\n        display inline-block\n        padding 5px 12px\n        background #E2E2E2\n        color #333333\n        font-size 15px\n        border-radius 8px\n        margin-right 10px\n    .clear\n      position absolute\n      right 0\n      top 0\n      font-size 12px\n      color #333333\n      right 12px\n    .history-ul\n      li\n        margin-right 5px\n        display inline-block\n        padding 0 12px\n        line-height 30px\n  .result-box\n    .title\n      color #999\n      font-size 12px\n      margin-bottom 15px\n      margin-top 15px\n      margin-left 12px\n    ul\n      li\n        background #fff\n        border-bottom 1px solid #e5e5e5\n        padding 15px 12px\n        display flex\n        align-items center\n        &:last-child\n          border none\n        .img\n          width 60px\n          height 60px\n          margin-right 10px\n        .right\n          .name\n            color #333333\n            font-size 18px\n            display flex\n            align-items center\n            span\n              padding 2px 12px\n              color #fff\n              background linear-gradient(-30deg, rgba(255, 102, 0, 1), rgba(255, 163, 44, 1))\n              font-size 12px\n              border-radius 100px\n              margin-left 15px\n              width 70px\n              text-align center\n          .knid\n            color #999999\n            font-size 12px\n            margin-top 6px\n</style>\n","import { render } from \"./search_hospital.vue?vue&type=template&id=5844abba&scoped=true\"\nimport script from \"./search_hospital.vue?vue&type=script&lang=js\"\nexport * from \"./search_hospital.vue?vue&type=script&lang=js\"\n\nimport \"./search_hospital.vue?vue&type=style&index=0&id=5844abba&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/wuhelong/Documents/project_two/全市一体化/quan_h5/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5844abba\"]])\n\nexport default __exports__"],"sourceRoot":""}