var B=Object.defineProperty,H=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var p=(e,s,i)=>s in e?B(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,u=(e,s)=>{for(var i in s||(s={}))M.call(s,i)&&p(e,i,s[i]);if(_)for(var i of _(s))F.call(s,i)&&p(e,i,s[i]);return e},f=(e,s)=>H(e,b(s));import{H as P}from"./hospital_header.4131d3ee.js";import{A as R,m as T,c as d,e as a,h as l,j as c,k as r,z as Z,t as h,l as g,B as N,g as m,f as S,F as v,i as k}from"./index.a3582b47.js";import{u as V}from"./useTitles.0514a601.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import"./fast_nav.a53c4cb6.js";import"./index.40ed97f4.js";const q={name:"diseases",components:{Header:P},setup(){return V("\u75C5\u866B\u5BB3\u5E93"),{size:R("size")}},props:{},data(){return{show:!1,kindList:[],list:[],loading:!1,finished:!1,page:0,catId:"",titleZindex:!1,initDis:"\u852C\u83DC\u866B\u5BB3"}},computed:f(u({},T(["initMid"])),{noData(){return this.finished&&this.list.length===0}}),watch:{$route(){}},created(){},mounted(){this.getKind()},methods:{clickHeader(){this.titleZindex=!1},showHeader(){this.titleZindex=!0,this.show=!1},changeDis(e){this.catId=e.catid,this.page=0,this.list=[],this.show=!1,this.onLoad(),this.initDis=e.catname},onLoad(){this.page+=1,this.$axios.fetchPost("/Mobile/Picture/getList",{catId:this.catId,page:this.page}).then(e=>{e.data.code==0?(this.list=this.list.concat(e.data.data),this.loading=!1):e.data.code==201&&(this.finished=!0)})},getKind(){this.$axios.fetchPost("Mobile/Picture/getCategorys",{mId:this.initMid}).then(e=>{e.data.code==0&&(this.kindList=e.data.data)})},getContainer(){return document.querySelector(".my-container")},showBox(){!this.kindList.length||(this.show=!0)},goToDetail(e){this.$router.push({path:"/diseases_detail",query:{catid:e.catid,id:e.id}})}}},K={class:"diseases-container"},U={class:"my-container"},A={class:"list"},E=["onClick"],G={key:0,class:"diseases-ul"},J=["onClick"],O={class:"wrap"},Q={class:"p1 f20"};function W(e,s,i,w,n,o){const x=d("Header"),y=d("van-icon"),C=d("van-popup"),D=d("van-image"),L=d("van-list"),I=d("van-empty");return a(),l("div",K,[c(x,{header:"x",onClickFastRightIcon:o.clickHeader,onRightIcon:o.showHeader},null,8,["onClickFastRightIcon","onRightIcon"]),r("div",{class:g(["title f22",{lessIndex:n.titleZindex,noDataClass:!n.kindList.length}]),onClick:s[0]||(s[0]=N((...t)=>o.showBox&&o.showBox(...t),["stop"]))},[Z(h(n.initDis)+" ",1),c(y,{name:"play",class:"arrow-icon",size:w.size},null,8,["size"])],2),r("div",U,[c(C,{show:n.show,"onUpdate:show":s[1]||(s[1]=t=>n.show=t),class:"pop",overlay:!1,position:"top",closeable:!0,duration:"0"},{default:m(()=>[r("div",A,[(a(!0),l(v,null,k(n.kindList,t=>(a(),l("div",{class:g(["item f20",{active:n.initDis===t.catname}]),key:t.catid,onClick:z=>o.changeDis(t)},h(t.catname),11,E))),128))])]),_:1},8,["show"])]),o.noData?(a(),S(I,{key:1,description:"\u6682\u65E0\u6570\u636E"})):(a(),l("ul",G,[c(L,{loading:n.loading,"onUpdate:loading":s[2]||(s[2]=t=>n.loading=t),finished:n.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:o.onLoad},{default:m(()=>[(a(!0),l(v,null,k(n.list,t=>(a(),l("li",{key:t.id,onClick:z=>o.goToDetail(t)},[r("div",O,[c(D,{class:"img",src:t.thumb,fit:"cover"},null,8,["src"]),r("p",Q,h(t.title),1)])],8,J))),128))]),_:1},8,["loading","finished","onLoad"])]))])}var ne=j(q,[["render",W],["__scopeId","data-v-5b8f90e5"]]);export{ne as default};
