import{p as x,d as M,a as k,G as C,u as F,r as a,c as y,e as u,h as l,j as o,k as B,g as w,F as A,i as H}from"./index.a3582b47.js";import{H as L}from"./header.1705d6a2.js";import{M as N}from"./message_item.5271a993.js";import{F as b}from"./foot.fed08935.js";import{u as D}from"./useTitles.0514a601.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import"./fast_nav.a53c4cb6.js";import"./index.40ed97f4.js";function I({initMid:d,page:n}){return x("/Mobile/News/index",{initMid:d,page:n})}const T={class:"message-container"},V={class:"message-ul"},j=["onClick"],q=M({setup(d){const n=k(),_=C(()=>n.state.initMid),p=F();D("\u8D44\u8BAF");const i=a([]),r=a(!1),c=a(!1),f=a(1);function m(){v()}async function v(){const e=await I({initMid:_.value,page:f.value});if((e==null?void 0:e.code)==201){c.value=!0;return}r.value=!1,i.value=i.value.concat(e),f.value+=1}function g(e,t){p.push({path:"/message_detail",query:{id:e,catid:t,from:"index"}})}return(e,t)=>{const h=y("van-list");return u(),l("div",T,[o(L,{indexHeader:!1}),B("ul",V,[o(h,{loading:r.value,"onUpdate:loading":t[0]||(t[0]=s=>r.value=s),finished:c.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:w(()=>[(u(!0),l(A,null,H(i.value,s=>(u(),l("li",{key:s.id,onClick:G=>g(s.id,s.catid)},[o(N,{list:s,index:!0},null,8,["list"])],8,j))),128))]),_:1},8,["loading","finished"])]),o(b)])}}});var P=E(q,[["__scopeId","data-v-55ffbf55"]]);export{P as default};
