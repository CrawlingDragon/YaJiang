var v=Object.defineProperty;var p=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var c=(e,t,s)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,m=(e,t)=>{for(var s in t||(t={}))H.call(t,s)&&c(e,s,t[s]);if(p)for(var s of p(t))x.call(t,s)&&c(e,s,t[s]);return e};import{H as M}from"./hospital_header.56138803.js";import{M as k}from"./message_item.9f7db3c4.js";import{m as y,c as n,e as o,h as d,j as l,g as D,v as h,f as L,F as C,i as I}from"./index.3518e5b0.js";import{u as N}from"./useTitles.54f46820.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";import"./fast_nav.40db65c6.js";const w={setup(){return{title:N("\u8D44\u8BAF\u5217\u8868")}},name:"hospitalMessage",components:{MessageItem:k,HospitalHeader:M},props:{},data(){return{list:[],loading:!1,finished:!1,page:0,noData:!1}},computed:m({},y(["mid","hospitalName"])),created(){},watch:{$route(){}},mounted(){this.title=this.hospitalName},methods:{onLoad(){this.getList()},getList(){this.page+=1,this.noData=!1,this.$axios.fetchPost("Mobile/Mpublic/getNewslist",{mId:this.mid,page:this.page}).then(e=>{e.data.code==0?(this.loading=!1,this.list=this.list.concat(e.data.data)):e.data.code==201&&(this.page==1?(this.noData=!0,this.finished=!0):this.finished=!0)})},goToMessageDetail(e,t){this.$router.push({path:"/message_detail",query:{id:e,catid:t}})}}},B={class:"message-container"},T={key:0,class:"message-ul"},F=["onClick"];function V(e,t,s,j,a,r){const _=n("HospitalHeader"),g=n("MessageItem"),u=n("van-list"),f=n("van-empty");return o(),d("div",B,[l(_,{indexHeader:"indexHeader",navHeader:"\u8D44\u8BAF"}),a.noData?h("v-if",!0):(o(),d("ul",T,[l(u,{loading:a.loading,"onUpdate:loading":t[0]||(t[0]=i=>a.loading=i),finished:a.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:r.onLoad},{default:D(()=>[(o(!0),d(C,null,I(a.list,i=>(o(),d("li",{key:i.id,onClick:q=>r.goToMessageDetail(i.id,i.catid)},[l(g,{list:i},null,8,["list"])],8,F))),128))]),_:1},8,["loading","finished","onLoad"])])),a.noData?(o(),L(f,{key:1,description:"\u6682\u65E0\u8D44\u8BAF\u5185\u5BB9"})):h("v-if",!0)])}var J=b(w,[["render",V],["__scopeId","data-v-72b8d445"]]);export{J as default};
