var D=Object.defineProperty;var w=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var k=(e,t,a)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,I=(e,t)=>{for(var a in t||(t={}))H.call(t,a)&&k(e,a,t[a]);if(w)for(var a of w(t))U.call(t,a)&&k(e,a,t[a]);return e};import{H as A}from"./hospital_header.4131d3ee.js";import{O as M}from"./online_item.85cc6858.js";import{m as T,c as f,e as n,h as d,j as o,g as l,k as g,f as c,F as v,i as y,v as r}from"./index.a3582b47.js";import{u as V}from"./useTitles.0514a601.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import"./fast_nav.a53c4cb6.js";import"./index.40ed97f4.js";var L=0;const O={setup(){V("\u95EE\u7B54\u7BA1\u7406")},name:"meAnswer",components:{Header:A,OnlineItem:M},props:{},data(){return{active:0,ask:[],answer:[],information:[],identity:0,noData1:!1,loading1:!1,finished1:!1,page1:0,noData2:!1,loading2:!1,finished2:!1,page2:0,noData3:!1,loading3:!1,finished3:!1,page3:0,scollType:"",num:0}},computed:I({},T(["uId","mid","initMid"])),watch:{scollType(e){e=="down"?this.num=0:this.num=30}},created(){},mounted(){window.addEventListener("scroll",this.scrollHandler),this.getUserInfo()},unmounted(){window.removeEventListener("scroll",this.scrollHandler)},methods:{scrollHandler(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=e-L;if(t==0)return!1;this.scollType=t>0?"down":"up",L=e},scroll(){},onLoad1(){this.loading1=!0,this.myAsk()},onLoad2(){this.myAnswer()},onLoad3(){this.myInformation()},myAsk(){this.page1+=1,this.$axios.fetchPost("/Mobile/User/getWenList",{uId:this.uId,action:"ask",page:this.page1,isuser:1}).then(e=>{e.data.code==0?(this.ask=this.ask.concat(e.data.data),this.loading1=!1):e.data.code==201&&(this.page1==1&&(this.noData1=!0),this.finished1=!0)})},myAnswer(){this.page2+=1,this.$axios.fetchPost("/Mobile/User/getWenList",{uId:this.uId,page:this.page2,action:"answer",isuser:1}).then(e=>{e.data.code==0?(this.answer=this.answer.concat(e.data.data),this.loading2=!1):e.data.code==201&&(this.page2==1&&(this.noData2=!0),this.finished2=!0)})},myInformation(){this.page3+=1,this.$axios.fetchPost("/Mobile/User/getWenList",{uId:this.uId,action:"tome",page:this.page3,isuser:1}).then(e=>{e.data.code==0&&(this.information=this.information.concat(e.data.data),this.loading3=!1),e.data.code==201&&(this.page3==1&&(this.noData3=!0),this.finished3=!0)})},getUserInfo(){this.$axios.fetchPost("Mobile/User/userCenter",{uId:this.uId,mId:this.initMid}).then(e=>{e.data.code==0&&(this.user=e.data.data,this.identity=e.data.data.identity)})}}},C={class:"me_answer-container"},E={class:"wrap"},P={class:"wrap"},N={class:"wrap"};function S(e,t,a,W,i,h){const b=f("Header"),u=f("OnlineItem"),m=f("van-list"),p=f("van-empty"),_=f("van-tab"),x=f("van-tabs");return n(),d("div",C,[o(b,{header:"xx"}),o(x,{modelValue:i.active,"onUpdate:modelValue":t[3]||(t[3]=s=>i.active=s),class:"tabs",onScroll:h.scroll,swipeable:""},{default:l(()=>[o(_,{title:"\u6211\u95EE\u7684",class:"tab"},{default:l(()=>[g("div",E,[i.noData1?r("v-if",!0):(n(),c(m,{key:0,loading:i.loading1,"onUpdate:loading":t[0]||(t[0]=s=>i.loading1=s),finished:i.finished1,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:h.onLoad1},{default:l(()=>[(n(!0),d(v,null,y(i.ask,s=>(n(),d("div",{class:"item",key:s.id},[o(u,{list:s},null,8,["list"])]))),128))]),_:1},8,["loading","finished","onLoad"]))]),i.noData1?(n(),c(p,{key:0,description:"\u6682\u65E0\u63D0\u95EE"})):r("v-if",!0)]),_:1}),o(_,{title:"\u6211\u7B54\u7684",class:"tab"},{default:l(()=>[g("div",P,[i.noData2?r("v-if",!0):(n(),c(m,{key:0,loading:i.loading2,"onUpdate:loading":t[1]||(t[1]=s=>i.loading2=s),finished:i.finished2,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:h.onLoad2},{default:l(()=>[(n(!0),d(v,null,y(i.answer,s=>(n(),d("div",{class:"item",key:s.id},[o(u,{list:s},null,8,["list"])]))),128))]),_:1},8,["loading","finished","onLoad"]))]),i.noData2?(n(),c(p,{key:0,description:"\u6682\u65E0\u89E3\u7B54"})):r("v-if",!0)]),_:1}),o(_,{title:"\u54A8\u8BE2\u6211\u7684",class:"tab"},{default:l(()=>[r(' v-if="identity == 1" '),g("div",N,[i.noData3?r("v-if",!0):(n(),c(m,{key:0,loading:i.loading3,"onUpdate:loading":t[2]||(t[2]=s=>i.loading3=s),finished:i.finished3,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:h.onLoad3},{default:l(()=>[(n(!0),d(v,null,y(i.information,s=>(n(),d("div",{class:"item",key:s.id},[o(u,{list:s},null,8,["list"])]))),128))]),_:1},8,["loading","finished","onLoad"]))]),i.noData3?(n(),c(p,{key:0,description:"\u6682\u65E0\u54A8\u8BE2"})):r("v-if",!0)]),_:1})]),_:1},8,["modelValue","onScroll"])])}var Q=B(O,[["render",S],["__scopeId","data-v-1d6ab15e"]]);export{Q as default};
