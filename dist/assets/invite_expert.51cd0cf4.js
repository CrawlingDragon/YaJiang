import{r as k,a as B,u as S,a2 as T,M as H,o as N,c as x,e as t,h as o,j as y,$ as D,k as a,F as C,i as V,f as F,v as u,l as P,t as I,x as L,y as U,N as j,V as b}from"./index.3518e5b0.js";import{H as w}from"./header.d5316539.js";import{u as z}from"./useTitles.54f46820.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";import"./fast_nav.40db65c6.js";const E=i=>(L("data-v-48f3afc7"),i=i(),U(),i),R={class:"invite-ul"},q={class:"time"},G={class:"mid"},J=["onClick"],K={class:"center-name"},O=E(()=>a("div",{class:"small-title"},"\u9080\u8BF7\u60A8\u6210\u4E3A\u65B0\u578B\u5E84\u7A3C\u533B\u9662\u4E13\u5BB6",-1)),Q={key:0,class:"btns van-hairline--top"},W=["onClick"],X=["onClick"],Y={key:1,class:"btns van-hairline--top"},Z={key:0,class:"btn agree"},ee={key:1,class:"btn refuse disbaled"},se={setup(i){const _=k([]),p=k(!1),l=B(),$=S(),v=T().appContext.config.globalProperties;z("\u9080\u8BF7\u4E13\u5BB6");const f=H(()=>l.state.uId);function m(){v.$axios.fetchPost("Mobile/User/getMyInvite",{uId:f.value}).then(s=>{s.data.code===0?_.value=s.data.data:p.value=!0})}N(()=>{m()});function h(s,n,c){j.confirm({message:`\u786E\u5B9A${n==1?"\u540C\u610F":"\u62D2\u7EDD"}${c}\u7684\u4E13\u5BB6\u9080\u8BF7\u5417`,confirmButtonText:"\u53D6\u6D88",cancelButtonText:"\u786E\u5B9A"}).then(()=>{}).catch(()=>{M(s,n)})}function M(s,n){v.$axios.fetchPost("Mobile/User/doMyInvite",{uId:f.value,id:s,passed:n}).then(c=>{if(c.data.code===0){m();let r=n==1?"\u5DF2\u540C\u610F":"\u5DF2\u62D2\u7EDD";b(r)}else b(c.data.message)})}function g(s){l.commit("setMid",s.mid),l.commit("setHospitalName",s.name),l.commit("setHospitalIsStore",s.isstore),setTimeout(()=>{$.push({path:"/hospital"})},100)}return(s,n)=>{const c=x("van-image"),r=x("van-empty");return t(),o(C,null,[y(D(w),{indexHeader:!1}),a("ul",R,[(t(!0),o(C,null,V(_.value,e=>(t(),o("li",{key:e,class:P({"agree-li":e.passed==1,"refuse-li":e.passed==2})},[a("div",q,I(e.addtime),1),a("div",G,[y(c,{class:"img",fit:"contain",onClick:d=>g(e),src:e.logo},null,8,["onClick","src"]),a("div",{class:"name",onClick:d=>g(e)},[a("div",K,I(e.name),1),O],8,J)]),e.passed==0?(t(),o("div",Q,[a("div",{class:"btn agree",onClick:d=>h(e.id,1,e.name)},"\u540C\u610F",8,W),a("div",{class:"btn refuse",onClick:d=>h(e.id,2,e.name)},"\u62D2\u7EDD",8,X)])):(t(),o("div",Y,[e.passed==1?(t(),o("div",Z,"\u5DF2\u540C\u610F")):u("v-if",!0),e.passed==2?(t(),o("div",ee,"\u5DF2\u62D2\u7EDD")):u("v-if",!0)]))],2))),128))]),p.value?(t(),F(r,{key:0,description:"\u6682\u65E0\u6570\u636E"})):u("v-if",!0)],64)}}};var le=A(se,[["__scopeId","data-v-48f3afc7"]]);export{le as default};
